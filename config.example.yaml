# EIR Service Configuration Example
# This file demonstrates all available configuration options
# Copy to config.yaml and customize for your environment

# HTTP/2 Server Configuration
server:
  host: 0.0.0.0
  port: 8080
  read_timeout: 30s
  write_timeout: 30s
  idle_timeout: 120s

# Database Configuration
database:
  # Database type: postgres or mongodb
  type: postgres
  host: localhost
  port: 5432
  database: eir
  username: eir_user
  # Use environment variable: EIR_DATABASE_PASSWORD
  password: changeme
  ssl_mode: disable  # Options: disable, require, verify-ca, verify-full

  # Connection pool settings
  max_open_conns: 25
  max_idle_conns: 5
  conn_max_lifetime: 5m

# Diameter S13 Interface Configuration
diameter:
  enabled: true
  listen_addr: 0.0.0.0:3868
  origin_host: eir.example.com
  origin_realm: example.com

  # Diameter protocol settings
  watchdog_interval: 30s
  idle_timeout: 300s

# Cache Configuration
cache:
  # Provider: memory, redis, memcached
  provider: memory
  ttl: 5m

  # Redis configuration (when provider: redis)
  redis_addr: localhost:6379
  redis_password: ""
  redis_db: 0

  # Memcached configuration (when provider: memcached)
  memcached_servers:
    - localhost:11211

# Logging Configuration
logging:
  # Level: debug, info, warn, error
  level: info
  # Format: json, text
  format: json

# Metrics Configuration
metrics:
  enabled: true
  port: 9090
  path: /metrics

# ---
# Example configurations for different environments
# ---

# Development Environment
# Uncomment and modify as needed:
#
# database:
#   type: postgres
#   host: localhost
#   port: 5432
#   database: eir_dev
#   username: dev_user
#   password: dev_password
#
# logging:
#   level: debug
#   format: text
#
# cache:
#   provider: memory

# Production Environment with Redis and PostgreSQL
# Uncomment and modify as needed:
#
# server:
#   host: 0.0.0.0
#   port: 8080
#
# database:
#   type: postgres
#   host: postgres-primary.example.com
#   port: 5432
#   database: eir_production
#   username: eir_prod
#   # Set via env: EIR_DATABASE_PASSWORD
#   ssl_mode: verify-full
#   max_open_conns: 100
#   max_idle_conns: 10
#
# diameter:
#   enabled: true
#   listen_addr: 0.0.0.0:3868
#   origin_host: eir.mobile.example.com
#   origin_realm: mobile.example.com
#
# cache:
#   provider: redis
#   ttl: 10m
#   redis_addr: redis-cluster.example.com:6379
#   # Set via env: EIR_CACHE_REDIS_PASSWORD
#
# logging:
#   level: info
#   format: json
#
# metrics:
#   enabled: true
#   port: 9090

# Production Environment with MongoDB
# Uncomment and modify as needed:
#
# database:
#   type: mongodb
#   host: mongodb-cluster.example.com
#   port: 27017
#   database: eir
#   username: eir_user
#   # Set via env: EIR_DATABASE_PASSWORD
#   ssl_mode: require
